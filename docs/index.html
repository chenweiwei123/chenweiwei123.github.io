<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ÂàÜÁªÑÂØºËà™È°µ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Font Awesome ÂõæÊ†áÂ∫ì -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    body {
      margin: 0;
      padding: 40px 20px;
      font-family: "Helvetica Neue", sans-serif;
      background: #f0f2f5;
    }

    h1 {
      text-align: center;
      font-size: 36px;
      color: #222;
      margin-bottom: 20px;
    }

    .search-box {
      text-align: center;
      margin-bottom: 30px;
    }

    .search-box input {
      padding: 10px 14px;
      font-size: 16px;
      width: 280px;
      border: 1px solid #ccc;
      border-radius: 8px;
      outline: none;
    }

    .group-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
      margin: 0 auto 30px auto;
      padding: 20px 24px;
      max-width: 900px;
    }

    .group-title {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 18px;
      color: #007BFF;
      border-bottom: 1px solid #eee;
      padding-bottom: 8px;
    }

    .nav-list {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
    }

    .nav-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #f9f9f9;
      border-radius: 10px;
      padding: 10px 16px;
      text-decoration: none;
      color: #333;
      font-size: 16px;
      flex: 1 1 200px;
      transition: background 0.3s ease, transform 0.3s ease;
      position: relative;
    }

    .nav-item:hover {
      background: #e6f0ff;
      transform: translateY(-2px);
    }

    .nav-left {
      display: flex;
      align-items: center;
    }

    .nav-icon {
      font-size: 20px;
      margin-right: 10px;
      transition: transform 0.3s ease;
    }

    .nav-item:hover .nav-icon {
      transform: scale(1.2) rotate(8deg);
    }

    .fav-icon {
      color: #ccc;
      cursor: pointer;
      font-size: 16px;
      transition: color 0.3s;
    }

    .fav-icon.active {
      color: gold;
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
<h1>üåê ÊàëÁöÑÂØºËà™È°µ</h1>

<div class="search-box">
  <input type="text" id="searchInput" placeholder="ÊêúÁ¥¢ÁΩëÁ´ôÂêçÁß∞...">
</div>

<div id="navRoot"></div>

<script>
  // Ê®°Êãü‰ªé nav.json ËØªÂèñÁöÑÁªìÊûÑ
  const navData = {
    "Â∏∏Áî®ÁΩëÁ´ô": [
      { name: "ÁôæÂ∫¶", url: "https://www.baidu.com", icon: "fa-solid fa-magnifying-glass" },
      { name: "Google", url: "https://www.google.com", icon: "fa-brands fa-google" },
      { name: "Áü•‰πé", url: "https://www.zhihu.com", icon: "fa-solid fa-lightbulb" },
      { name: "ÊéòÈáëÈÖ±", url: "https://e.juejin.cn/#/", icon: "fa-solid fa-tv" }
    ],
    "Âü∫Á°ÄÂ∑•ÂÖ∑": [
      { name: "GitHub", url: "https://github.com", icon: "fa-brands fa-github" },
      { name: "Stack Overflow", url: "https://stackoverflow.com", icon: "fa-brands fa-stack-overflow" },
      { name: "W3School", url: "https://www.w3school.com.cn", icon: "fa-solid fa-book" },
      { name: "È©¨‰∏ÅÂ≠¶ÁºñÁ®ã", url: "https://nageoffer.com/", icon: "fa-solid fa-code" }
    ]
  };

  const navRoot = document.getElementById("navRoot");
  const searchInput = document.getElementById("searchInput");
  const allNavItems = [];

  // ‰ªé localStorage Ëé∑ÂèñÊî∂ËóèÂ§π
  const favoriteUrls = new Set(JSON.parse(localStorage.getItem("favorites") || "[]"));

  // Ê∑ªÂä†Êî∂ËóèÂ§πÂàÜÁªÑ
  function renderFavorites() {
    const favorites = [];
    for (const [group, items] of Object.entries(navData)) {
      for (const item of items) {
        if (favoriteUrls.has(item.url)) {
          favorites.push(item);
        }
      }
    }
    if (favorites.length > 0) {
      renderGroup("‚≠ê Êî∂ËóèÂ§π", favorites, true);
    }
  }

  // Ê∏≤ÊüìÂçï‰∏™ÂàÜÁªÑ
  function renderGroup(title, links, isFavorites = false) {
    const groupCard = document.createElement("div");
    groupCard.className = "group-card";

    const titleEl = document.createElement("div");
    titleEl.className = "group-title";
    titleEl.textContent = title;

    const navList = document.createElement("div");
    navList.className = "nav-list";

    links.forEach(link => {
      const a = document.createElement("a");
      a.className = "nav-item";
      a.href = link.url;
      a.target = "_blank";

      const left = document.createElement("div");
      left.className = "nav-left";
      left.innerHTML = `
          <i class="nav-icon ${link.icon}"></i>
          <div class="nav-name">${link.name}</div>
        `;

      const fav = document.createElement("i");
      fav.className = "fa-star fav-icon fas";
      if (favoriteUrls.has(link.url)) {
        fav.classList.add("active");
      }

      fav.addEventListener("click", e => {
        e.preventDefault();
        e.stopPropagation();
        if (favoriteUrls.has(link.url)) {
          favoriteUrls.delete(link.url);
          fav.classList.remove("active");
        } else {
          favoriteUrls.add(link.url);
          fav.classList.add("active");
        }
        localStorage.setItem("favorites", JSON.stringify([...favoriteUrls]));
        // ÈáçÊñ∞Ê∏≤ÊüìÊî∂ËóèÂ§π
        renderAll();
      });

      a.appendChild(left);
      a.appendChild(fav);
      navList.appendChild(a);
      if (!isFavorites) {
        allNavItems.push({ element: a, name: link.name.toLowerCase() });
      }
    });

    groupCard.appendChild(titleEl);
    groupCard.appendChild(navList);
    navRoot.appendChild(groupCard);
  }

  // Ê∏≤ÊüìÊâÄÊúâÂàÜÁªÑÔºàÂê´Êî∂ËóèÂ§πÔºâ
  function renderAll() {
    navRoot.innerHTML = "";
    renderFavorites();
    for (const [group, links] of Object.entries(navData)) {
      renderGroup(group, links);
    }
  }

  renderAll();

  // ÊêúÁ¥¢ËøáÊª§
  searchInput.addEventListener("input", function () {
    const keyword = this.value.trim().toLowerCase();
    allNavItems.forEach(({ element, name }) => {
      element.classList.toggle("hidden", !name.includes(keyword));
    });
  });
</script>
</body>
</html>